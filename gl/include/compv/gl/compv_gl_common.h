/* Copyright (C) 2016-2018 Doubango Telecom <https://www.doubango.org>
* File author: Mamadou DIOP (Doubango Telecom, France).
* License: GPLv3. For commercial license please contact us.
* Source code: https://github.com/DoubangoTelecom/compv
* WebSite: http://compv.org
*/
#if !defined(_COMPV_GL_COMMON_H_)
#define _COMPV_GL_COMMON_H_

#include "compv/gl/compv_gl_config.h"
#include "compv/gl/compv_gl_headers.h"
#if defined(HAVE_OPENGL) || defined(HAVE_OPENGLES)
#include "compv/base/compv_common.h"

#if defined(_COMPV_API_H_)
#error("This is a private file and must not be part of the API")
#endif

COMPV_NAMESPACE_BEGIN()

struct CompVGLVertex {
    GLfloat Position[3]; // x, y, z
    GLfloat TexCoord[2];
};

struct CompVGLPoint2D {
	GLfloat position[2]; // x, y
	GLfloat color[4]; // r, g, b, a
};

struct CompVGLText2D {
	GLfloat position[2]; // x, y
	GLfloat color[4]; // r, g, b, a
	GLfloat box[4][4];
};

static const GLint kCompVGLNameInvalid = 0;
static const GLint kCompVGLNameSystemFrameBuffer = 0;
static const GLint kCompVGLNameSystemRenderBuffer = 0;

static const CompVGLVertex kCompVGLTexture2DVertices[] = {
    { { 1.f, -1.f, 0.f },{ 1.f, 1.f } },
    { { 1.f, 1.f, 0.f },{ 1.f, 0.f } },
    { { -1.f, 1.f, 0.f },{ 0.f, 0.f } },
    { { -1.f, -1.f, 0.f },{ 0.f, 1.f } }
};

static const CompVGLVertex kCompVGLScreenVertices[] = {
    { { 1.f, -1.f, 0.f },{ 1.f,  0.f } },
    { { 1.f, 1.f, 0.f },{ 1.f, 1.f } },
    { { -1.f, 1.f, 0.f },{ 0.f, 1.f } },
    { { -1.f, -1.f, 0.f },{ 0.f, 0.f } }
};

static const GLubyte kCompVGLTexture2DIndices[] = {
    0, 1, 2, // 1st triangle
    2, 3, 0 // 2nd triangle
};
static const GLsizei kCompVGLTexture2DIndicesCount = sizeof(kCompVGLTexture2DIndices) / sizeof(kCompVGLTexture2DIndices[0]);

static const GLfloat kCompVGLRandomColors[][3] = { // r, g, b
	{ 0.703106f, 0.907422f, 0.398177f },
	{ 0.052442f, 0.364749f, 0.862561f },
	{ 0.910528f, 0.358885f, 0.048095f },
	{ 0.747772f, 0.884084f, 0.355383f },
	{ 0.517286f, 0.934464f, 0.573949f },
	{ 0.251333f, 0.776940f, 0.816590f },
	{ 0.673445f, 0.130332f, 0.008576f },
	{ 0.888289f, 0.318752f, 0.038889f },
	{ 0.949103f, 0.536871f, 0.103254f },
	{ 0.039230f, 0.310153f, 0.833696f },
	{ 0.804506f, 0.220195f, 0.020491f },
	{ 0.934510f, 0.634620f, 0.146529f },
	{ 0.592931f, 0.936127f, 0.502509f },
	{ 0.175976f, 0.671504f, 0.871209f },
	{ 0.000030f, 0.003268f, 0.121729f },
	{ 0.006244f, 0.103456f, 0.582764f },
	{ 0.276893f, 0.804764f, 0.795251f },
	{ 0.024533f, 0.236675f, 0.776298f },
	{ 0.034276f, 0.287220f, 0.818311f },
	{ 0.099760f, 0.001930f, 0.000013f },
	{ 0.441671f, 0.915510f, 0.645218f },
	{ 0.013388f, 0.165068f, 0.691949f },
	{ 0.000001f, 0.000324f, 0.039136f },
	{ 0.000006f, 0.001170f, 0.073740f },
	{ 0.302120f, 0.828987f, 0.773384f },
	{ 0.633447f, 0.929996f, 0.464228f },
	{ 0.719187f, 0.899881f, 0.382831f },
	{ 0.781019f, 0.861439f, 0.323048f },
	{ 0.791359f, 0.853345f, 0.312863f },
	{ 0.034471f, 0.288151f, 0.818977f },
	{ 0.883982f, 0.748723f, 0.215614f },
	{ 0.452795f, 0.919425f, 0.634761f },
	{ 0.254576f, 0.780665f, 0.813938f },
	{ 0.001575f, 0.043393f, 0.406511f },
	{ 0.792342f, 0.852547f, 0.311891f },
	{ 0.937302f, 0.432127f, 0.067736f },
	{ 0.918509f, 0.376498f, 0.052471f },
	{ 0.607164f, 0.934537f, 0.489065f },
	{ 0.172956f, 0.666399f, 0.872999f },
	{ 0.750294f, 0.177054f, 0.014206f },
	{ 0.943936f, 0.591736f, 0.126122f },
	{ 0.346667f, 0.026655f, 0.000697f },
	{ 0.530350f, 0.070928f, 0.003225f },
	{ 0.650476f, 0.925921f, 0.448121f },
	{ 0.022260f, 0.223546f, 0.763289f },
	{ 0.477654f, 0.926747f, 0.611347f },
	{ 0.089689f, 0.485724f, 0.894372f },
	{ 0.794788f, 0.211640f, 0.019161f },
	{ 0.065504f, 0.411691f, 0.879734f },
	{ 0.939837f, 0.442689f, 0.070896f },
	{ 0.844934f, 0.260973f, 0.027406f },
	{ 0.028564f, 0.000153f, 0.000000f },
	{ 0.002744f, 0.000001f, 0.000000f },
	{ 0.799507f, 0.846578f, 0.304783f },
	{ 0.330480f, 0.852735f, 0.748105f },
	{ 0.124595f, 0.572387f, 0.894043f },
	{ 0.166159f, 0.654619f, 0.876862f },
	{ 0.853164f, 0.270556f, 0.029172f },
	{ 0.000118f, 0.008059f, 0.187782f },
	{ 0.298277f, 0.825492f, 0.776758f },
	{ 0.006489f, 0.105952f, 0.588171f },
	{ 0.902257f, 0.716777f, 0.193605f },
	{ 0.001509f, 0.042222f, 0.401690f },
	{ 0.000006f, 0.001139f, 0.072757f },
	{ 0.566891f, 0.083510f, 0.004183f },
	{ 0.136850f, 0.598642f, 0.890367f },
	{ 0.132994f, 0.590581f, 0.891673f },
	{ 0.753643f, 0.880436f, 0.349711f },
	{ 0.917747f, 0.683407f, 0.173027f },
	{ 0.858868f, 0.277517f, 0.030488f },
	{ 0.943855f, 0.592230f, 0.126344f },
	{ 0.528643f, 0.935800f, 0.563225f },
	{ 0.061938f, 0.399449f, 0.875882f },
	{ 0.948826f, 0.544884f, 0.106390f },
	{ 0.491807f, 0.930054f, 0.597999f },
	{ 0.468552f, 0.924292f, 0.619925f },
	{ 0.391286f, 0.034934f, 0.001060f },
	{ 0.948909f, 0.542926f, 0.105618f },
	{ 0.010189f, 0.139844f, 0.652607f },
	{ 0.775746f, 0.865365f, 0.328215f },
	{ 0.316322f, 0.841320f, 0.760803f },
	{ 0.947003f, 0.569038f, 0.116255f },
	{ 0.794761f, 0.850562f, 0.309496f },
	{ 0.721748f, 0.898593f, 0.380382f },
	{ 0.271180f, 0.798844f, 0.800101f },
	{ 0.026581f, 0.248015f, 0.786792f },
	{ 0.079550f, 0.456400f, 0.890292f },
	{ 0.397586f, 0.895956f, 0.686468f },
	{ 0.918173f, 0.375708f, 0.052270f },
	{ 0.600942f, 0.935307f, 0.494942f },
	{ 0.087412f, 0.001473f, 0.000008f },
	{ 0.949194f, 0.522983f, 0.097971f },
	{ 0.243045f, 0.767148f, 0.823287f },
	{ 0.036088f, 0.295794f, 0.824308f },
	{ 0.875897f, 0.761092f, 0.224854f },
	{ 0.544274f, 0.937008f, 0.548464f },
	{ 0.002162f, 0.053108f, 0.443539f },
	{ 0.925887f, 0.662107f, 0.160982f },
	{ 0.573314f, 0.937327f, 0.521037f },
	{ 0.024620f, 0.237162f, 0.776763f },
	{ 0.388522f, 0.034380f, 0.001034f },
	{ 0.021923f, 0.221550f, 0.761225f },
	{ 0.633202f, 0.110629f, 0.006572f },
	{ 0.919455f, 0.679210f, 0.170591f },
	{ 0.174575f, 0.669146f, 0.872044f },
	{ 0.400557f, 0.897483f, 0.683702f },
	{ 0.002916f, 0.064202f, 0.480578f },
	{ 0.271382f, 0.015623f, 0.000306f },
	{ 0.909211f, 0.702710f, 0.184657f },
	{ 0.027420f, 0.252537f, 0.790794f },
	{ 0.745804f, 0.173922f, 0.013790f },
	{ 0.890329f, 0.322029f, 0.039602f },
	{ 0.741731f, 0.887690f, 0.361206f },
	{ 0.050991f, 0.359148f, 0.860062f },
	{ 0.041653f, 0.320821f, 0.840161f },
	{ 0.897859f, 0.334751f, 0.042434f },
	{ 0.506979f, 0.932917f, 0.583680f },
	{ 0.028605f, 0.258817f, 0.796186f },
	{ 0.571323f, 0.937385f, 0.522917f },
	{ 0.946048f, 0.577229f, 0.119746f },
	{ 0.356938f, 0.871844f, 0.724041f },
	{ 0.141692f, 0.608520f, 0.888551f },
	{ 0.714047f, 0.902393f, 0.387743f },
	{ 0.908142f, 0.704956f, 0.186058f },
	{ 0.948868f, 0.510824f, 0.093501f },
	{ 0.941626f, 0.604530f, 0.131958f },
	{ 0.507047f, 0.932928f, 0.583616f },
	{ 0.014695f, 0.174591f, 0.705284f },
	{ 0.283112f, 0.811022f, 0.789926f },
	{ 0.865220f, 0.285612f, 0.032056f },
	{ 0.000375f, 0.017202f, 0.267998f },
	{ 0.600737f, 0.935330f, 0.495136f },
	{ 0.883898f, 0.748856f, 0.215712f },
	{ 0.399846f, 0.897120f, 0.684364f },
	{ 0.009243f, 0.131754f, 0.638577f },
	{ 0.390102f, 0.034696f, 0.001049f },
	{ 0.553445f, 0.078703f, 0.003805f },
	{ 0.672831f, 0.919179f, 0.426946f },
	{ 0.243788f, 0.768042f, 0.822691f },
	{ 0.499078f, 0.931513f, 0.591138f },
	{ 0.296595f, 0.823941f, 0.778230f },
	{ 0.836777f, 0.251961f, 0.025795f },
	{ 0.195615f, 0.702855f, 0.858634f },
	{ 0.464451f, 0.923101f, 0.623788f },
	{ 0.131709f, 0.587855f, 0.892079f },
	{ 0.145567f, 0.004203f, 0.000041f },
	{ 0.166908f, 0.655936f, 0.876448f },
	{ 0.948058f, 0.557512f, 0.111469f },
	{ 0.710950f, 0.903860f, 0.390699f },
	{ 0.054476f, 0.372462f, 0.865839f },
	{ 0.947896f, 0.495303f, 0.087995f },
	{ 0.854764f, 0.272481f, 0.029533f },
	{ 0.340887f, 0.860589f, 0.738686f },
	{ 0.564526f, 0.937494f, 0.529337f },
	{ 0.697264f, 0.143391f, 0.010026f },
	{ 0.000181f, 0.010703f, 0.214753f },
	{ 0.047567f, 0.000428f, 0.000001f },
	{ 0.722131f, 0.898399f, 0.380015f },
	{ 0.001101f, 0.034498f, 0.367497f },
	{ 0.632701f, 0.930154f, 0.464933f },
	{ 0.053015f, 0.366938f, 0.863510f },
	{ 0.846393f, 0.262634f, 0.027708f },
	{ 0.827053f, 0.820864f, 0.277006f },
	{ 0.876336f, 0.760443f, 0.224358f },
	{ 0.055913f, 0.377815f, 0.868006f },
	{ 0.848488f, 0.265047f, 0.028150f },
	{ 0.014799f, 0.175337f, 0.706296f },
	{ 0.010641f, 0.143600f, 0.658873f },
	{ 0.948746f, 0.546584f, 0.107064f },
	{ 0.191244f, 0.696142f, 0.861563f },
	{ 0.442030f, 0.046134f, 0.001637f },
	{ 0.150438f, 0.625700f, 0.884820f },
	{ 0.227216f, 0.747320f, 0.835703f },
	{ 0.021352f, 0.218127f, 0.757633f },
	{ 0.946408f, 0.574309f, 0.118493f },
	{ 0.865350f, 0.285781f, 0.032089f },
	{ 0.932663f, 0.641100f, 0.149832f },
	{ 0.778062f, 0.863657f, 0.325947f },
	{ 0.949141f, 0.535161f, 0.102593f },
	{ 0.108558f, 0.534990f, 0.896414f },
	{ 0.023219f, 0.229161f, 0.768970f },
	{ 0.000000f, 0.000039f, 0.013682f },
	{ 0.001919f, 0.049223f, 0.429322f },
	{ 0.913905f, 0.366062f, 0.049853f },
	{ 0.822127f, 0.236837f, 0.023197f },
	{ 0.066342f, 0.414510f, 0.880561f },
	{ 0.012297f, 0.156795f, 0.679724f },
	{ 0.680792f, 0.916386f, 0.419393f },
	{ 0.000026f, 0.002961f, 0.116037f },
	{ 0.011746f, 0.152496f, 0.673121f },
	{ 0.460961f, 0.922046f, 0.627075f },
	{ 0.949169f, 0.521090f, 0.097266f },
	{ 0.912474f, 0.695628f, 0.180307f },
	{ 0.659477f, 0.923399f, 0.439600f },
	{ 0.003362f, 0.070232f, 0.498852f },
	{ 0.422256f, 0.907708f, 0.663430f },
	{ 0.059149f, 0.389592f, 0.872466f },
	{ 0.922658f, 0.670972f, 0.165900f },
	{ 0.156338f, 0.636838f, 0.882008f },
	{ 0.422190f, 0.907679f, 0.663491f },
	{ 0.086742f, 0.477429f, 0.893439f },
	{ 0.733123f, 0.892576f, 0.369481f },
	{ 0.635480f, 0.929557f, 0.462305f },
	{ 0.830388f, 0.817421f, 0.273584f },
	{ 0.031070f, 0.271476f, 0.806491f },
	{ 0.571804f, 0.937372f, 0.522463f },
	{ 0.297088f, 0.019002f, 0.000413f },
	{ 0.922227f, 0.672111f, 0.166542f },
	{ 0.535295f, 0.072543f, 0.003343f },
	{ 0.049964f, 0.355127f, 0.858207f },
	{ 0.226600f, 0.746516f, 0.836175f },
	{ 0.041952f, 0.322116f, 0.840916f },
	{ 0.042772f, 0.000345f, 0.000001f },
	{ 0.467409f, 0.923965f, 0.621003f },
	{ 0.017747f, 0.000059f, 0.000000f },
	{ 0.007530f, 0.116158f, 0.609235f },
	{ 0.824276f, 0.823673f, 0.279844f },
	{ 0.006855f, 0.109612f, 0.595910f },
	{ 0.424424f, 0.908641f, 0.661400f },
	{ 0.498196f, 0.061044f, 0.002543f },
	{ 0.000973f, 0.031860f, 0.354713f },
	{ 0.679075f, 0.133318f, 0.008899f },
	{ 0.155870f, 0.635967f, 0.882239f },
	{ 0.081670f, 0.462719f, 0.891357f },
	{ 0.945412f, 0.473144f, 0.080509f },
	{ 0.367449f, 0.878669f, 0.714385f },
	{ 0.059174f, 0.389680f, 0.872497f },
	{ 0.829333f, 0.818519f, 0.274668f },
	{ 0.785600f, 0.857919f, 0.318544f },
	{ 0.454599f, 0.920022f, 0.633063f },
	{ 0.487126f, 0.929029f, 0.602414f },
	{ 0.773361f, 0.867098f, 0.330547f },
	{ 0.840656f, 0.806313f, 0.262946f },
	{ 0.816231f, 0.231094f, 0.022246f },
	{ 0.877211f, 0.302019f, 0.035354f },
	{ 0.823579f, 0.824370f, 0.280555f },
	{ 0.941086f, 0.607219f, 0.133211f },
	{ 0.707716f, 0.905355f, 0.393784f },
	{ 0.296884f, 0.824209f, 0.777977f },
	{ 0.045936f, 0.338919f, 0.850185f },
	{ 0.947770f, 0.561055f, 0.112924f },
	{ 0.684955f, 0.914842f, 0.415441f },
	{ 0.633341f, 0.110693f, 0.006578f },
	{ 0.097615f, 0.507190f, 0.895992f },
	{ 0.049234f, 0.352245f, 0.856844f },
	{ 0.786710f, 0.857050f, 0.317451f },
	{ 0.924767f, 0.665252f, 0.162712f },
	{ 0.746965f, 0.884574f, 0.356162f },
	{ 0.253114f, 0.778993f, 0.815136f },
	{ 0.550038f, 0.937270f, 0.543019f },
	{ 0.004299f, 0.081971f, 0.531392f },
	{ 0.948366f, 0.553200f, 0.109715f },
	{ 0.800530f, 0.845703f, 0.303764f },
	{ 0.815765f, 0.831964f, 0.288485f },
	{ 0.917685f, 0.683556f, 0.173115f },
	{ 0.916115f, 0.370971f, 0.051075f },
	{ 0.025390f, 0.241473f, 0.780820f },
	{ 0.729326f, 0.894639f, 0.373124f },
	{ 0.777773f, 0.197591f, 0.017067f },
	{ 0.602915f, 0.097495f, 0.005360f },
	{ 0.805443f, 0.841419f, 0.298861f },
	{ 0.944374f, 0.589013f, 0.124906f },
	{ 0.000695f, 0.025643f, 0.321729f },
	{ 0.890360f, 0.738271f, 0.208135f },
	{ 0.196694f, 0.007878f, 0.000107f },
	{ 0.192711f, 0.698412f, 0.860587f },
	{ 0.715013f, 0.901928f, 0.386820f },
	{ 0.178704f, 0.676047f, 0.869558f },
	{ 0.039115f, 0.309638f, 0.833373f },
	{ 0.010263f, 0.140467f, 0.653658f },
	{ 0.773555f, 0.194276f, 0.016589f },
	{ 0.825866f, 0.240576f, 0.023827f },
	{ 0.948895f, 0.543267f, 0.105752f },
	{ 0.028259f, 0.256995f, 0.794641f },
	{ 0.211648f, 0.726273f, 0.847352f },
	{ 0.004140f, 0.080049f, 0.526310f },
	{ 0.003735f, 0.075049f, 0.512653f },
	{ 0.850932f, 0.794360f, 0.252127f },
	{ 0.893213f, 0.326781f, 0.040648f },
	{ 0.663093f, 0.922313f, 0.436176f },
	{ 0.447258f, 0.917526f, 0.639968f },
	{ 0.363871f, 0.876393f, 0.717677f },
	{ 0.168276f, 0.658333f, 0.875684f },
	{ 0.485365f, 0.928625f, 0.604076f },
	{ 0.565212f, 0.937489f, 0.528688f },
	{ 0.027128f, 0.250973f, 0.789421f },
	{ 0.205385f, 0.717344f, 0.851854f },
	{ 0.947791f, 0.560802f, 0.112820f },
	{ 0.190961f, 0.695702f, 0.861750f },
	{ 0.881249f, 0.307923f, 0.036582f },
	{ 0.324932f, 0.023109f, 0.000559f },
	{ 0.759305f, 0.183522f, 0.015081f },
	{ 0.943182f, 0.596180f, 0.128126f },
	{ 0.170185f, 0.661646f, 0.874602f },
	{ 0.423990f, 0.041921f, 0.001409f },
	{ 0.016178f, 0.184961f, 0.718971f },
	{ 0.002389f, 0.056578f, 0.455654f },
	{ 0.936056f, 0.427371f, 0.066342f },
	{ 0.617674f, 0.932973f, 0.479135f },
};
static const GLsizei kCompVGLRandomColorsCount = sizeof(kCompVGLRandomColors) / sizeof(kCompVGLRandomColors[0]);

COMPV_NAMESPACE_END()

#endif /* defined(HAVE_OPENGL) || defined(HAVE_OPENGLES) */

#endif /* _COMPV_GL_COMMON_H_ */
